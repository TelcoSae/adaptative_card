={
  "createdAt": "2025-09-16T17:36:11.608Z",
  "updatedAt": "2025-09-24T12:32:03.000Z",
  "id": "wJW2K5sb5Z8GCn0e",
  "name": "HP - Test",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "=ad2a8838-5c28-4011-95ef-ddfaabe0c1ef",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -464,
        -112
      ],
      "id": "3030ddb0-e99f-49bf-9cfa-f447791ae191",
      "name": "Webhook",
      "webhookId": "ad2a8838-5c28-4011-95ef-ddfaabe0c1ef",
      "alwaysOutputData": false,
      "executeOnce": false,
      "retryOnFail": false
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "451be3b3-7f6c-4ca5-a273-2bc044ccdcc6",
              "name": "body.tareas",
              "value": "={{ $json.body.tareas }}",
              "type": "array"
            }
          ]
        },
        "includeOtherFields": true,
        "include": "selected",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -224,
        -112
      ],
      "id": "4b13ef4a-915f-4641-961e-07ffb496b908",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://claroaup.webhook.office.com/webhookb2/839216bf-f91d-498b-b826-575f025fbea2@05bfea77-f19c-471d-afa2-0c9093af8bdb/IncomingWebhook/ce39898892744c5d9a065ebf98a5d703/8492e00c-597b-4f16-9ade-24ab6801151d/V2ms8u-IdX8WwQ30QS2lqHJ7TtLbzJVvLZoiOUOOsBMcs1",
        "sendBody": true,
        "contentType": "raw",
        "body": "={{ $json.body }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        320,
        -112
      ],
      "id": "dacdcafb-53d2-4655-84a8-a2c86b4ddf4f",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "jsCode": "// Arrays para agrupar\nconst ejecucion = [];\nconst validacion = [];\n\nconst input = items[0].json;\nconst tareas = Array.isArray(input.body?.tareas) ? input.body.tareas : [];\n\ntareas.forEach(tarea => {\n    const item = {\n        tas: tarea.tas || 'Sin tas',\n        wbs: tarea.texto || 'Sin wbs',\n        hora: tarea.hora || 'Sin hora',\n        tarea: tarea.tarea || 'Sin descripción',\n        prioridad: tarea.prioridad || 'Sin prioridad'\n    };\n\n    if (tarea.tipo === 'Ejecución') {\n        ejecucion.push(item);\n    } else if (tarea.tipo === 'Validación') {\n        validacion.push(item);\n    }\n});\n\n// Función para crear tabla en texto monoespaciado\nfunction crearTablaTexto(titulo, lista) {\n    if (lista.length === 0) {\n        return `**${titulo}**\\n> _No hay tareas_\\n`;\n    }\n\n    let filas = `\\n**${titulo}**\\n\\`\\`\\`\\nTAS          | WBS          | HORA         | PRIORIDAD   | TAREA\\n-------------|--------------|------------|------------|------------------------\\n`;\n    \n    lista.forEach(t => {\n        // Truncar tarea si es muy larga\n        const tareaCorta = t.tarea.length > 40 ? t.tarea.substring(0, 37) + \"...\" : t.tarea;\n        filas += `${t.tas.padEnd(11)} | ${t.wbs.padEnd(11)} | ${t.hora.padEnd(10)} | ${t.prioridad.padEnd(11)} | ${tareaCorta}\\n`;\n    });\n    \n    filas += '\\n\\`\\`\\`';\n    return filas;\n}\n\n// Armamos el mensaje\nconst mensaje = `\n\n\n${crearTablaTexto(\"🚀 Tareas de Ejecución\", ejecucion)}\n\n${crearTablaTexto(\"🔍 Tareas de Validación\", validacion)}\n`.trim();\n\n// Payload final\nconst payload = {\n    \"@type\": \"MessageCard\",\n    \"@context\": \"http://schema.org/extensions\",\n    \"summary\": \"Reporte diario de tareas\",\n    \"title\": \"📋 Reporte de Tareas\",\n    \"text\": mensaje\n};\n\nreturn [{\n    json: {\n        ...input,\n        body: payload,\n        total_tareas: tareas.length,\n        tareas_ejecucion: ejecucion.length,\n        tareas_validacion: validacion.length\n    }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        32,
        -112
      ],
      "id": "a66ad6d8-43b8-48de-9f1e-5b3844aacfa1",
      "name": "Code in JavaScript",
      "alwaysOutputData": false
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        []
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "e0c815d5-224a-4ba5-90c5-fb71afc328da",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-09-16T17:36:11.613Z",
      "updatedAt": "2025-09-16T17:36:11.613Z",
      "role": "workflow:owner",
      "workflowId": "wJW2K5sb5Z8GCn0e",
      "projectId": "QdIaKjwyS02MMGZQ",
      "project": {
        "createdAt": "2025-09-11T18:03:44.820Z",
        "updatedAt": "2025-09-11T18:10:14.443Z",
        "id": "QdIaKjwyS02MMGZQ",
        "name": "Soporte Acceso Empresas  Empresas <saf.empresas@claro.com.ar>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "createdAt": "2025-09-11T18:03:44.820Z",
            "updatedAt": "2025-09-11T18:03:44.820Z",
            "userId": "4facc838-fc29-4888-93e5-fd2ef787b161",
            "projectId": "QdIaKjwyS02MMGZQ",
            "user": {
              "createdAt": "2025-09-11T18:03:44.372Z",
              "updatedAt": "2025-10-21T09:00:53.000Z",
              "id": "4facc838-fc29-4888-93e5-fd2ef787b161",
              "email": "saf.empresas@claro.com.ar",
              "firstName": "Soporte Acceso Empresas",
              "lastName": " Empresas",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-09-11T18:11:25.739Z",
                "personalization_survey_n8n_version": "1.110.1",
                "automationGoalDevops": [
                  "ticketing-systems-integrations"
                ],
                "companyIndustryExtended": [
                  "telecoms"
                ],
                "companySize": "1000+",
                "companyType": "other",
                "role": "devops",
                "reportedSource": "event"
              },
              "settings": {
                "userActivated": true,
                "firstSuccessfulWorkflowId": "qNvPVx6pVl6SWob0",
                "userActivatedAt": 1758135955025,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1759778484200
                },
                "easyAIWorkflowOnboarded": true
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-10-21",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": []
}