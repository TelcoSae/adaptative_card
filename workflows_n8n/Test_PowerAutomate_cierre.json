={
  "createdAt": "2025-09-29T18:27:41.618Z",
  "updatedAt": "2025-09-30T13:01:15.000Z",
  "id": "gonCb594XeHOYVfI",
  "name": "Test PowerAutomate cierre",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -224,
        -144
      ],
      "id": "6cf15d4e-c8bd-484a-a22c-8ce6d8345e9e",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://f3da3763bda6e539974bcb2bd9bcbe.e9.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/cd41c9e235e843ca8b54b7ec362fb8d2/triggers/manual/paths/invoke?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=RfniUEAB5lLEolDL8s7gvEX7VEOiL8d1b4AIYR01Kug",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n\"Origen\": \"{{ $json.Origen }}\",\n\"Anillo\": \"{{ $json.Anillo }}\",\n\"Equipos\": {{ $json.Equipos }},\n\"Servicios\": {{ $json.Servicios }},\n\"Clientes\": {{ $json.Clientes }},\n\"Horario\": \"{{ $json.Horario }}\",\n\"IdAfectacion\": \"{{ $json.IdAfectacion }}\",\n\"region\": \"{{ $json.region }}\",\n\"nombre_sitio\": \"{{ $json.nombre_sitio }}\",\n\"Estado\": \"{{ $json.Estado }}\",\n\"HorarioFin\": \"{{ $json.HorarioFin }}\",\n\"TiempoAfectacion\": {{ $json.TiempoAfectacion }},\n\"DuracionLegible\": \"{{ $json.DuracionLegible }}\"\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        160,
        -144
      ],
      "id": "00168593-e42d-481c-9c99-282556e58ca6",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "jsCode": "// Configuración de datos aleatorios\nconst origenes = [\n  \"DA_DobleApertura\",\n  \"DA_FallaFibra\",\n  \"DA_CorteMasivo\",\n  \"DA_Sobrecarga\",\n  \"DA_Mantenimiento\"\n];\n\nconst regiones = [\"AMBA\", \"Córdoba\", \"Rosario\", \"Mendoza\", \"Tucumán\", \"La Plata\"];\nconst sitios = [\"Pilar\", \"San Isidro\", \"Lanús\", \"Quilmes\", \"Morón\", \"Lomas\", \"Avellaneda\"];\n\n// Generar 1 a 5 items aleatorios (puedes cambiar el rango)\nconst itemCount = Math.floor(Math.random() * 5) + 1; // entre 1 y 5\nconst items = [];\n\nfor (let i = 0; i < itemCount; i++) {\n  // Generar UUID v4\n  const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = Math.random() * 16 | 0;\n    const v = c === \"x\" ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n\n  // Horario de inicio: en las últimas 24 horas\n  const horarioInicio = new Date(Date.now() - Math.floor(Math.random() * 86400000)); // 24h = 86400000 ms\n\n  // Tiempo de afectación: entre 30 y 1800 segundos (30 seg a 30 min)\n  const tiempoAfectacion = Math.floor(Math.random() * 1771) + 30; // 30 a 1800 seg\n  const horarioFin = new Date(horarioInicio.getTime() + tiempoAfectacion * 1000);\n\n  // Formatear fecha como \"YYYY-MM-DD HH:mm:ss\"\n  const formatDate = (d) => d.toISOString().slice(0, 19).replace(\"T\", \" \");\n\n  // Formatear duración legible: \"X días HH:mm:ss\"\n  const formatDuration = (seconds) => {\n    const dias = Math.floor(seconds / 86400);\n    const horas = Math.floor((seconds % 86400) / 3600);\n    const minutos = Math.floor((seconds % 3600) / 60);\n    const segs = seconds % 60;\n    return `${dias} días ${horas.toString().padStart(2, '0')}:${minutos.toString().padStart(2, '0')}:${segs.toString().padStart(2, '0')}`;\n  };\n\n  // Generar número de anillo: ME-NPLR_0001 a ME-NPLR_9999\n  const anilloNumero = String(Math.floor(Math.random() * 9999) + 1).padStart(4, '0');\n  const anillo = `ME-NPLR_${anilloNumero}`;\n\n  items.push({\n    json: {\n      Origen: origenes[Math.floor(Math.random() * origenes.length)],\n      Anillo: anillo,\n      Equipos: Math.floor(Math.random() * 10) + 1,        // 1 a 10\n      Servicios: Math.floor(Math.random() * 20) + 1,      // 1 a 20\n      Clientes: Math.floor(Math.random() * 15) + 1,       // 1 a 15\n      Horario: formatDate(horarioInicio),\n      IdAfectacion: uuid,\n      region: regiones[Math.floor(Math.random() * regiones.length)],\n      nombre_sitio: sitios[Math.floor(Math.random() * sitios.length)],\n      Estado: \"Cerrar\", // o podrías hacerlo aleatorio: [\"Nuevo\", \"Cerrar\", \"Pendiente\"]\n      HorarioFin: formatDate(horarioFin),\n      TiempoAfectacion: tiempoAfectacion,\n      DuracionLegible: formatDuration(tiempoAfectacion)\n    }\n  });\n}\n\nreturn items;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -32,
        -144
      ],
      "id": "817e42e8-197a-4262-b10d-71fdc1b01220",
      "name": "Code in JavaScript"
    }
  ],
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "b9b12be8-1d46-46c3-936f-ce221f14f5e2",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-09-29T18:27:41.621Z",
      "updatedAt": "2025-09-29T18:27:41.621Z",
      "role": "workflow:owner",
      "workflowId": "gonCb594XeHOYVfI",
      "projectId": "QdIaKjwyS02MMGZQ",
      "project": {
        "createdAt": "2025-09-11T18:03:44.820Z",
        "updatedAt": "2025-09-11T18:10:14.443Z",
        "id": "QdIaKjwyS02MMGZQ",
        "name": "Soporte Acceso Empresas  Empresas <saf.empresas@claro.com.ar>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "createdAt": "2025-09-11T18:03:44.820Z",
            "updatedAt": "2025-09-11T18:03:44.820Z",
            "userId": "4facc838-fc29-4888-93e5-fd2ef787b161",
            "projectId": "QdIaKjwyS02MMGZQ",
            "user": {
              "createdAt": "2025-09-11T18:03:44.372Z",
              "updatedAt": "2025-10-21T09:00:53.000Z",
              "id": "4facc838-fc29-4888-93e5-fd2ef787b161",
              "email": "saf.empresas@claro.com.ar",
              "firstName": "Soporte Acceso Empresas",
              "lastName": " Empresas",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-09-11T18:11:25.739Z",
                "personalization_survey_n8n_version": "1.110.1",
                "automationGoalDevops": [
                  "ticketing-systems-integrations"
                ],
                "companyIndustryExtended": [
                  "telecoms"
                ],
                "companySize": "1000+",
                "companyType": "other",
                "role": "devops",
                "reportedSource": "event"
              },
              "settings": {
                "userActivated": true,
                "firstSuccessfulWorkflowId": "qNvPVx6pVl6SWob0",
                "userActivatedAt": 1758135955025,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1759778484200
                },
                "easyAIWorkflowOnboarded": true
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-10-21",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": []
}